/*
 * Lazy Load - jQuery plugin for lazy loading images
 *
 * Copyright (c) 2007-2012 Mika Tuupola
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/lazyload
 *
 * Version:  1.7.0
 * 
 * Tweaked for performance by: Amr Tj. Wallas
 * Forked Project (https://github.com/TjWallas/YouTube-Lite-Embed)
 *
 */
(function(a,b){$window=a(b);a.fn.lazyload=function(c){var d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:true,appear:null,load:null};if(c){if(undefined!==c.failurelimit){c.failure_limit=c.failurelimit;delete c.failurelimit}if(undefined!==c.effectspeed){c.effect_speed=c.effectspeed;delete c.effectspeed}a.extend(d,c)}var e=this;if(0==d.event.indexOf("scroll")){a(d.container).bind(d.event,function(b){var c=0;for(var f=0;f<e.length;f++){currentElement=e[f];$this=a(currentElement);if(d.skip_invisible&&!$this.is(":visible"))return;if(a.abovethetop(currentElement,d)||a.leftofbegin(currentElement,d)){}else if(!a.belowthefold(currentElement,d)&&!a.rightoffold(currentElement,d)){$this.trigger("appear")}else{if(++c>d.failure_limit){return false}}}})}for(var f=0;f<this.length;f++){var g=this[f];var h=a(g);g.loaded=false;h.one("appear",function(){if(!this.loaded){if(d.appear){var b=e.length;d.appear.call(g,b,d)}a("<img />").bind("load",function(){h.hide().attr("src",h.data(d.data_attribute))[d.effect](d.effect_speed);g.loaded=true;var b=a.grep(e,function(a){return!a.loaded});e=a(b);if(d.load){var c=e.length;d.load.call(g,c,d)}}).attr("src",h.data(d.data_attribute))}});if(0!=d.event.indexOf("scroll")){h.bind(d.event,function(a){if(!g.loaded){h.trigger("appear")}})}}$window.bind("resize",function(b){a(d.container).trigger(d.event)});a(d.container).trigger(d.event);return this};a.belowthefold=function(c,d){if(d.container===undefined||d.container===b){var e=$window.height()+$window.scrollTop()}else{var e=a(d.container).offset().top+a(d.container).height()}return e<=a(c).offset().top-d.threshold};a.rightoffold=function(c,d){if(d.container===undefined||d.container===b){var e=$window.width()+$window.scrollLeft()}else{var e=a(d.container).offset().left+a(d.container).width()}return e<=a(c).offset().left-d.threshold};a.abovethetop=function(c,d){if(d.container===undefined||d.container===b){var e=$window.scrollTop()}else{var e=a(d.container).offset().top}return e>=a(c).offset().top+d.threshold+a(c).height()};a.leftofbegin=function(c,d){if(d.container===undefined||d.container===b){var e=$window.scrollLeft()}else{var e=a(d.container).offset().left}return e>=a(c).offset().left+d.threshold+a(c).width()};a.inviewport=function(b,c){return!a.rightofscreen(b,c)&&!a.leftofscreen(b,c)&&!a.belowthefold(b,c)&&!a.abovethetop(b,c)};a.extend(a.expr[":"],{"below-the-fold":function(c){return a.belowthefold(c,{threshold:0,container:b})},"above-the-top":function(c){return!a.belowthefold(c,{threshold:0,container:b})},"right-of-screen":function(c){return a.rightoffold(c,{threshold:0,container:b})},"left-of-screen":function(c){return!a.rightoffold(c,{threshold:0,container:b})},"in-viewport":function(c){return!a.inviewport(c,{threshold:0,container:b})},"above-the-fold":function(c){return!a.belowthefold(c,{threshold:0,container:b})},"right-of-fold":function(c){return a.rightoffold(c,{threshold:0,container:b})},"left-of-fold":function(c){return!a.rightoffold(c,{threshold:0,container:b})}})})(jQuery,window)
